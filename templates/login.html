<!DOCTYPE html>
<html>

<head>
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
  <link rel="stylesheet" as="style" onload="this.rel='stylesheet'"
    href="https://fonts.googleapis.com/css2?display=swap&amp;family=Inter:wght@400;500;700;900&amp;family=Noto+Sans:wght@400;500;700;900" />
  <title>Login</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
</head>

<body class="bg-white font-sans">
  <div class="min-h-screen flex flex-col justify-center items-center">
    <div class="w-full max-w-md p-8 border border-gray-200 rounded-lg shadow-md">
      <h2 class="text-2xl font-bold text-center mb-6">Welcome Back</h2>

      <!-- Flash messages (only once) -->
      {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
        <div class="mb-3 p-2 rounded
            {% if category=='success' %}bg-green-200 text-green-800
            {% elif category=='error' %}bg-red-200 text-red-800
            {% elif category=='info' %}bg-blue-100 text-blue-800
            {% endif %}">
          {{ message }}
        </div>
        {% endfor %}
      {% endif %}
      {% endwith %}

      <form method="POST" action="{{ url_for('login') }}" class="space-y-4">

        <!-- Username -->
        <div>
          <input type="text" name="username" placeholder="Username" required autocomplete="username"
            class="w-full border rounded-lg px-4 py-3 bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400" />
        </div>

        <!-- Password -->
        <div>
          <input type="password" name="password" placeholder="Password" required autocomplete="current-password"
            class="w-full border rounded-lg px-4 py-3 bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400" />
        </div>

        <!-- Forgot password -->
        <p class="text-sm text-gray-500 text-right underline">
          <a href="forget_pass.html">Forgot password?</a>
        </p>

        <!-- Submit -->
        <button type="submit"
          class="w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition-colors">
          Log In
        </button>

        <!-- Sign up link -->
        <p class="text-center text-sm text-gray-500 mt-2">
          Don't have an account?
          <a href="{{ url_for('signup') }}" class="underline text-blue-600">Sign up</a>
        </p>

      </form>
    </div>
  </div>
</body>

</html>
